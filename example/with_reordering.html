<!DOCTYPE html>
<html>
  <head>
    <title>With reordering</title>
    <script src="http://frzrjs.github.io/frzr/dist/frzr.min.js"></script>
  </head>
  <body>
    <h1>With reordering</h1>
    <a href="https://github.com/frzrjs/frzr/blob/gh-pages/example/with_reordering.html">Source</a>
    <script>
      var View = frzr.View
      var ViewList = frzr.ViewList

      var $reverse = View('button')
        .text('Reverse')
        .mount(document.body)

      var $time = View('p')
        .mount(document.body)

      var $items = View('div')
        .addClass('items')
        .mount(document.body)

      var items = new Array(10000)

      for (var i = 0, len = items.length; i < len; i++) {
        items[i] = {
          id: i,
          title: 'Item ' + i
        }
      }

      var Item = View.extend()
        .on('update', function (view, data, currentData) {
          if (currentData.title !== data.title) {
            view.text(data.title)
          }
        })

      var starttime = Date.now()

      var itemList = ViewList(Item, 'id')
        .reset(items)
        .mount($items)

      $time.text(Date.now() - starttime + ' ms')

      $reverse.$el.addEventListener('click', function (e) {
        e.preventDefault()

        var starttime = Date.now()
        itemList.reset(items.reverse())
        $time.text(Date.now() - starttime + ' ms')
      })
    </script>
  </body>
</html>
