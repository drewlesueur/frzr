!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.frzr={})}(this,function(n){"use strict";function t(){var n=this,e=n instanceof t;return e?(n.listeners={},n):new t}function e(n,t,e){var r=this,o=r.listeners[n]||(r.listeners[n]=[]);return o.push({cb:t,ctx:e}),r}function r(n){var t=this,e=b(arguments,1),r=t.listeners[n];return r?(g(r,function(n){n.cb.apply(n.ctx||t,e)}),t):t}function o(n,t){var e,r=this;return t?(e=r.listeners[n])?(r.listeners=$(e,function(n){return n.cb===t}),r):r:n?(delete e[n],r):(r.listeners={},r)}function i(n){var t=this,e=t instanceof i;return e?(i["super"].call(this),t.data={},void(t.$el=document.createElement(n||"div"))):new i(n)}function u(n){var t=this;return t.root=n,n instanceof i&&(n=n.$el),n.appendChild(t.$el),t}function s(){var n=this,t=n.root;return t?(t instanceof i&&(t=t.$el),t.removeChild(n.$el),n):void 0}function f(n){var t=this;return t.$el.textContent=n,t}function a(n){var t=this;return t.$el.innerHTML=n,t}function c(n){var t=this;return t.$el.classList.add(n),t}function l(n){var t=this;return t.$el.classList.remove(n),t}function v(n){var t=this;return t.trigger("update",t,n,t.data),L(n,function(n,e){t.data[e]=n}),t}function d(){var n=this;return n.trigger("destroy",n),n.off(),n.unmount(),n}function p(n){function e(t){var e=new i(t||n);return e.listeners=r.listeners,g(o,function(n){e.addClass(n)}),s.root&&e.mount(s.root),e.trigger("init",e),e}var r=new t,o=[],u={},s={};return e.mount=function(n){return s.root=n,e},e.unmount=function(n){return delete s.root,e},e.addClass=function(n){return u[n]?e:(o.push(n),u[n]=!0,e)},e.removeClass=function(n){return u[n]&&(o=$(o,function(t){return t!==n}),delete u[n]),e},e.on=function(n,t,o){return r.on(n,t,o),e},e.off=function(n,t,o){return r.off(n,t,o),e},e}function h(n,t){var e=this,r=e instanceof h;return r?(e.idAttribute=t,e.View=n||i,e.views=[],e.lookup={},e):new h(n,t)}function m(n){var t=this;if(n=n||t.root){n instanceof i&&(n=n.$el);var e=n.firstChild;g(t.views,function(t,r){return e===t.$el?void(e=e.nextSibling):void(e?n.insertBefore(t.$el,e):n.appendChild(t.$el))});for(var r;e;)r=e.nextSibling,n.removeChild(e),e=r;return t.root=n,t}}function w(n){var t,e=this,r=e.idAttribute;if(null==r)return t=A(n,new Array(n.length),function(n,t,r){var o=e.views[r];return o||(o=new e.View),o.reset(t),n[r]=o,n}),e.views=t,e.mount(),e;var o={};return t=A(n,[],function(n,t,i){var u=t[r],s=e.lookup[u];return s||(s=new e.View),s.reset(t),n[i]=o[u]=s,n}),g(e.views,function(n,t){var e=n[r];o[e]||(n.destroy(),delete o[e])}),e.views=t,e.lookup=o,e.mount(),e}function y(n,e){function r(t,r){var u=new u(t||n,r||e);return u.listeners=o.listeners,i.root&&u.mount(i.root),u}var o=new t,i={};return r.mount=function(n){return i.root=n,r},r.unmount=function(){return delete i.root,r},r.on=function(n,t,e){return o.on(n,t,e),r},r}function g(n,t){for(var e=0,r=n.length;r>e;e++)t(n[e],e)}function $(n,t){var e=[];return g(n,function(n,r){t(n,r)&&e.push(n)}),e}function b(n,t,e){var r=n.length;null==t&&(t=0),null==e&&(e=r),0>t&&(t=r+t),0>e&&(e=r+e),r=e-t;for(var o=new Array(r),i=0;r>i;i++)o[i]=n[t+i];return o}function x(n,t){for(var e=n.length,r=new Array(e),o=0;e>o;o++)r[o]=t(n[o],o);return r}function C(n,t){for(var e=new Array(n),r=0;n>r;r++)e[r]=t(r);return e}function A(n,t,e){return g(n,function(n,r){t=e(t,n,r)}),t}function V(n,t){var e=t&&t.prototype||null;return n["super"]=t,n.prototype=Object.create(e,{constructor:{configurable:!0,value:n,writable:!0}}),n.prototype}function L(n,t){var e;for(e in n)t(n[e],e)}var k=t.prototype;k.on=e,k.off=o,k.trigger=r,n.Emitter=t,V(i,t);var j=i.prototype;j.mount=u,j.unmount=s,j.text=f,j.html=a,j.addClass=c,j.removeClass=l,j.reset=v,j.destroy=d,i.extend=p,n.View=i,V(h,t);var E=h.prototype;E.mount=m,E.reset=w,h.extend=y,n.ViewList=h,n.each=g,n.filter=$,n.map=x,n.slice=b,n.timesMap=C,n.reduce=A,n.inherit=V,n.forIn=L});